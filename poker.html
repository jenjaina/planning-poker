<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml" ng-app="PokerApp">
<head>
    <meta charset="utf-8" />
    <title>Planning Poker</title>
    <script src="http://localhost:1337/socket.io/socket.io.js"></script>
    <script src="angular.js"></script>
    <script src="app.js"></script>
    <script src="poker.js"></script>
    <link href="bootstrap.css" rel="stylesheet" />
    <link href="bootstrap-theme.css" rel="stylesheet" />
</head>
<body ng-controller="MainCtrl">
    <div class="jumbotron">
        <h1 class="text-center">JRS Planning Poker</h1>
    </div>

    <div id="dataSubmissions" class="col-xs-5">
        <div id="namePanel" class="panel panel-default">
            <div class="panel-heading">
                <h3 ng-hide="data.name">Welcome!</h3>
                <h3 ng-show="data.name">Welcome, {{data.name}}!</h3>
            </div>
            <form name="userForm" novalidate ng-show="true">
                <div class="well">
                    <div class="form-group">
                        <label>Enter your name: </label>
                        <input name="userName" type="text" required ng-model="data.name" />
                        <!--<button type="submit" ng-disabled="userForm.$invalid">Submit</button>-->
                    </div>
                </div>
            </form>
        </div>

        <div id="formPanel" class="panel">
            <form name="estimateForm" novalidate ng-submit="deleteCards()">
                <div class="well">
                    <div class="form-group">
                        <label>Task: </label>
                        <textarea name="project" cols="40" rows="5" class="form-control"
                                  ng-model="data.task"></textarea>
                    </div>
                    <span class="input-group-btn">
                        <button class="btn btn-default" type="submit"
                                ng-click="toggle(true)">
                            Start
                        </button>
                        <button class="btn btn-default" type="button"
                                ng-click="toggle(false)">
                            Reveal
                        </button>
                    </span>
                </div>
            </form>


            <div class="well">
                <form name="cardform" novalidate>
                    <div class="form-group">
                        <label for="cardSelection">Your Estimate: </label>
                        <select id="cardSelection" ng-model="data.card"
                                ng-options="card for card in cardoptions">
                            <option value="">(Pick One)</option>
                        </select>
                    </div>
                    <button id="createButton" class="btn btn-primary"
                            type="submit" ng-click="createCard(data)">
                        Submit Your Estimate
                    </button>

                    <p class="pull-right">You've selected: {{data.card || "None"}}</p>
                </form>
            </div>
        </div>
    </div>

    <div id="cardsPanel" class="col-xs-7">
        <div class="panel panel-default" ng-hide="params.togglestart">
            <div class="panel-heading">
                <h3>
                    The Votes Are In... 
                    <span class="badge">
                        {{ cardchoices.length }} Votes
                    </span>
                </h3>
            </div>
        </div>


        <div class="row" ng-hide="params.togglestart">
            <div class="col-xs-3" ng-repeat="choice in cardchoices">
                <div class="panel panel-primary">
                    <div class="panel-heading">
                        <h4 class="panel-title">{{choice.name}}</h4>
                    </div>
                    <div class="panel-body">
                        <h3 class="">{{choice.card}}</h3>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
</html>